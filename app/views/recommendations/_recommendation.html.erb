<div class="rounded-lg border p-4 shadow-md hover:shadow-xl transition-shadow duration-300">
  <img src="<%= recommendation.book.image_url %>" alt="<%= recommendation.book.title %>" class="w-full h-48 object-cover rounded mb-4" />
  
  <h3 class="text-xl font-semibold"><%= recommendation.book.title %></h3>
  <p class="text-sm text-gray-500 mb-2">by <%= recommendation.book.author %></p>
  <p class="text-gray-700 mb-4 italic">"<%= truncate(recommendation.review, length: 100) %>"</p>

  <% if recommendation.trending_score && recommendation.trending_score >= 5 %>
    <span class="inline-block bg-yellow-400 text-xs text-black px-2 py-1 rounded-full mb-2">ðŸ”¥ Trending</span>
  <% end %>

  <% if user_signed_in? %>
    <%= button_to "â–² Vote (#{recommendation.votes.count})", recommendation_votes_path(recommendation), method: :post, class: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded w-full" %>
    <%= link_to "ðŸ’¬ View & Comment", recommendation_path(recommendation), class: "text-blue-600 text-sm underline mt-2 inline-block" %>

  <% else %>
    <p class="text-gray-400 text-sm italic">Sign in to vote</p>
  <% end %>
</div>
